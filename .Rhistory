arbuthnot\$boys
arbuthnot
arbuthnot\$boys
names(arbuthnot)
arbuthnot\boys
arbuthnot/boys
arbuthnot/$boys
arbuthnot$boys
arbuthnot$girls
names(arbuthnot)
arbuthnot$year
arbuthnot
plot(x = arbuthnot\$year, y = arbuthnot\$girls)
plot(x = arbuthnot$year, y = arbuthnot$girls)
plot(x = arbuthnot$year, y = arbuthnot$girls)
plot(x = arbuthnot$year, y = arbuthnot$boys)
plot(x = arbuthnot$year, y = arbuthnot$boys-arbuthnot$girls)
plot(x = arbuthnot$year, y = arbuthnot$boys type="1")
plot(x = arbuthnot$year, y = arbuthnot$boys, type="1")
plot(x = arbuthnot$year, y = arbuthnot$boys, type="l")
?plot
plot(x = arbuthnot$year, y = arbuthnot$boys, type="b")
plot(x = arbuthnot$year, y = arbuthnot$boys, type="o")
plot(x = arbuthnot$year, y = arbuthnot$boys, type="o")
plot(x = arbuthnot$year, y = arbuthnot$boys, type="b")
plot(x = arbuthnot$year, y = arbuthnot$boys, type="o")
?plot
plot(x = arbuthnot$year, y = arbuthnot$boys, type="c")
?plot
plot(x = arbuthnot$year, y = arbuthnot$boys, type="h")
?plot
plot(x = arbuthnot$year, y = arbuthnot$boys, type="s")
?plot
plot(x = arbuthnot$year, y = arbuthnot$boys, type="S")
?plot
plot(x = arbuthnot$year, y = arbuthnot$boys, type="n")
?plot
a <- available.packages()
install.packages("KernSmooth")
install.packages("KernSmooth")
library(KernSmooth)
View(arbuthnot)
View(arbuthnot)
getwd()
getwd()
install.packages("swirl")
library(swirl)
swirl()
5 + 7
x <- 5 + 7
x
y <- x - 3
y
z <- c(1.1, 9, 3,14)
z <- c(1.1, 9, 3.14)
?c
z
c(z, 555, z)
z * 2 + 100
my_sqrt <- sqrt(z - 1)
my_sqrt
my_div <- z / my_sqrt
my_div
c(1,2,3,4) + c(0,10)
c(1,2,3,4) + c(0,10, 100)
z * 2 + 1000
my_div
1:20
pi:10
15:1
?`:`
seq(1,20)
seq(0,10, by=0.5)
my_seq <- seq(5,10, length=30)
length(my_seq)
1:length(my_seq)
seq(along=my_seq)
seq_along(my_seq)
rep(0, times=40)
rep(c(0:2), times=40)
rep(c(0,1,2), times=40)
rep(c(0:2), times=10)
rep(c(0,1,2), times=10)
rep(c(0,1,2), each=10)
swirl()
library(swirl)
swirl()
num_vect <- c(0.5, 55, -10, 6)
tf <- num_vect < 1
tf
num_vect >=6
my_char <- c("My", "name", "is")
my_char
paste(my_char, collapse = " ")
c(my_char, "ToddF")
my_name <- c(my_char, "ToddF")
my_name
paste(my_name, collapse=" ")
paste("Hello", "world!", sep=" ")
paste(1:3, c("X", "Y", "Z"))
paste(1:3, c("X", "Y", "Z"), sep="")
paste(LETTERS, 1:4, sep="-")
?xyplot
library(lattice)
?xyplot
library(ggplot2)
str(mpg)
qplot(displ, cyl, data=mpg)
qplot(displ, cyl, data=mpg, color=drv)
qplot(displ, hwy, data=mpg, color=drv, geom = c("point", "smooth"))
qplot(hwy, data=mpg, fill=drv)
qplot(displ, hwy, data=mpg, facets=.~drv)
qplot(displ, hwy, data=mpg, facets=cyl~drv)
qplot(hwy, data=mpg, fill=drv)
qplot(displ, hwy, data=mpg, facets=drv~.) # facets by col (2 var scatter)
qplot(displ, data=mpg, facets=drv~.) # facets by col (1 var hist)
qplot(displ, hwy, data=mpg, color=drv, geom = c("point", "density"))
qplot(displ, hwy, data=mpg, color=drv, geom = c(density"))
;
)
""
qplot(displ, hwy, data=mpg, color=drv, geom = c("density"))
qplot(displ, data=mpg, facets=drv~.) # facets by col (1 var hist)
qplot(displ, data=mpg, facets=drv~., geom = "density")
qplot(displ, data=mpg, col=drv, geom = "density")
qplot(displ, cyl, data=mpg, shape=drv)
qplot(displ, hwy, data=mpg, color=drv, geom = c("point", "smooth"), method="lm")
qplot(displ, hwy, data=mpg, color=drv, geom = c("point", "smooth"))
qplot(displ, hwy, data=mpg, color=drv, geom = c("point", "smooth"), method="lm")
?geom
?qplot
g <- ggplot(movies, aes(votes, rating))
class(g)
print(g)
qplot(votes, rating, data = movies)
qplot(votes, rating, data = movies, panel = panel.loess)
qplot(votes, rating, data = movies, smooth = "loess")
qplot(votes, rating, data = movies) + geom_smooth()
qplot(votes, rating, data = movies) + stats_smooth("loess")
?aes
library(ggplot)
library(ggplot2)
qplot(displ, cyl, data=mpg, shape=drv) # circles, triangles, and squares for drv
g <- ggplot(mpg, aes(displ, cyl))
print(g)
summary(g)
g + geom_point() # autoprint the chart
?geom_point
qplot(votes, rating, data = movies)
?geom_smooth
g + geom_point()
g + geom_point() + geom_smooth()
g + geom_point(method = "lm") + geom_smooth() # with linear smoother
g + geom_point() + geom_smooth(method = "lm") # with linear smoother
g + geom_point() + facet_grid(. ~ drv) + geom_smooth(method = "lm") # with linear
g + geom_point() + facet_grid(. ~ drv) + geom_smooth(method = "lm") + ggtitle("sdf")
g + geom_point() + facet_grid(. ~ drv) + geom_smooth(method = "lm") + ggtitle("sdf") + theme_bw()
g + geom_point() + ggtitle("sdf") + theme_bw()
g + geom_point(color="red") + ggtitle("sdf") + theme_bw()
g + geom_point(color="red", size=4) + ggtitle("sdf") + theme_bw()
g + geom_point(color="red", size=4, alpha=1/2) + ggtitle("sdf") + theme_bw()
g + geom_point(color="red", size=4, alpha=1/22) + ggtitle("sdf") + theme_bw()
g + geom_point(color="red", size=4, alpha=1/4) + ggtitle("sdf") + theme_bw()
g + geom_point(aes(color=drv), size=4, alpha=1/4) + ggtitle("sdf") + theme_bw()
g + geom_point(aes(color=drv), size=4) + ggtitle("sdf") + theme_bw()
60/1.2
36/8
set.seed(1234)
par(mar(c(0,0,0,0)))
x <- rnorm(12, mean = repl(1:3, each=4), sd = 0.2)
y <- rnorm(12, mean = repl(c(1,2,1), each=4), sd = 0.2)
plot(x,y,col="blue",pch=19,cex=2)
text(x+0.05, y+0.05, labels=as.character(1:12))
set.seed(1234)
par(mar = (c(0,0,0,0)))
x <- rnorm(12, mean = repl(1:3, each=4), sd = 0.2)
y <- rnorm(12, mean = repl(c(1,2,1), each=4), sd = 0.2)
plot(x,y,col="blue",pch=19,cex=2)
text(x+0.05, y+0.05, labels=as.character(1:12))
set.seed(1234)
par(mar = (c(0,0,0,0)))
x <- rnorm(12, mean = rep(1:3, each=4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1,2,1), each=4), sd = 0.2)
plot(x,y,col="blue",pch=19,cex=2)
text(x+0.05, y+0.05, labels=as.character(1:12))
set.seed(1234)
par(mar = (c(2,2,2,2)))
x <- rnorm(12, mean = rep(1:3, each=4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1,2,1), each=4), sd = 0.2)
plot(x,y,col="blue",pch=19,cex=2)
text(x+0.05, y+0.05, labels=as.character(1:12))
df <- data.frame(x = x, y = y)
dist(df)
distxy <- dist(df)  # lower triangle matrix
hClust <- hclust(distxy)
plot(hClust)
set.seed(1234)
par(mar = (c(2,2,2,2)))
x <- rnorm(12, mean = rep(1:3, each=4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1,2,1), each=4), sd = 0.2)
plot(x,y,col="blue",pch=19,cex=2)
text(x+0.05, y+0.05, labels=as.character(1:12))
df <- data.frame(x,y)
kmeansObj <- kmeans(df, centers=3)
kmeansObj
par(mar = rep(0.2,4))
plot(x,y, col = kmeansObj$cluster, pch=19, cex=2)
points(kmeansObj$centers, col = 1:3, pch = 3, cex = 3, lwd=3)
set.seed(1234)
x <- rnorm(12, mean = rep(1:3, each=4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1,2,1), each=4), sd = 0.2)
df <- data.frame(x,y)
kmeansObj <- kmeans(df, centers=5)
par(mar = rep(0.2,4))
plot(x,y, col = kmeansObj$cluster, pch=19, cex=2)
points(kmeansObj$centers, col = 1:5, pch = 3, cex = 3, lwd=3)
sample(1:12)
dm <- as.matrix(dataframe)[sample)1:12, ]
dm <- as.matrix(dataFrame)[sample)1:12, ]
set.seed(1234)
par(mfrow = c(1,2), mar = c(2,4,0.1,0.1))
x <- rnorm(12, mean = rep(1:3, each=4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1,2,1), each=4), sd = 0.2)
df <- data.frame(x,y)
dm <- as.matrix(df)[sample)1:12, ]
dm <- as.matrix(df)[sample(1:12), ]
t(dm)[,nrow(dm):1)]
t(dm)[,nrow(dm):1]
image(t(dm)[,nrow(dm):1], yaxt = 'n')
set.seed(1234)
par(mfrow = c(1,2), mar = c(2,4,0.1,0.1))
x <- rnorm(12, mean = rep(1:3, each=4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1,2,1), each=4), sd = 0.2)
df <- data.frame(x,y)
kmeansObj <- kmeans(df, centers=3)
dm <- as.matrix(df)[sample(1:12), ]
image(t(dm)[,nrow(dm):1], yaxt = 'n')
image(t(dm)[,order(kmeansObj$cluster)], yaxt = 'n')
40/241
241/40
heat.colors()
topo.colors()
?heat.colors
topo.colors(9)
topo.colors(1)
topo.colors(2)
topo.colors(3)
rainbow(4)
?mean
?rainbow
colors()
x <- rnorm(10000)
y <- rnorm(10000)
smoothScatter(x,y)
?rgb
plot(x,y)
plot(x,y, pch = 19)
plot(x,y, pch = 19, col = rgb(0,0,0,0.2))
plot(x,y, pch = 19, col = rgb(0,0,0,0))
plot(x,y, pch = 19, col = rgb(0,0,0,0, 1))
plot(x,y, pch = 19, col = rgb(0,0,0,0, 0.5))
plot(x,y, pch = 19, col = rgb(0,0,0,0, 0.2))
plot(x,y, pch = 19, col = rgb(0,0,0,0.2))
plot(x,y, pch = 19, col = rgb(0,0,0,0.9))
plot(x,y, pch = 19, col = rgb(0,0,0,0.1))
plot(x,y, pch = 19, col = rgb(255,0,0,0.1))
plot(x,y, pch = 19, col = rgb(1,0,0,0.1))
heat.colors()
heat.colors(2)
rgb(1,0,0,0.1))
rgb(1,0,0,0.1)
plot(x,y, pch = 19, col = heat.colors(1)
)
plot(x,y, pch = 19, col = heat.colors(3))
plot(x,y, pch = 19, col = heat.colors(20))
plot(x,y, pch = 19, col = heat.colors(99))
colorRamp(c(red, blue))
colorRamp(c("red", "blue"))
p <- colorRamp(c("red", "blue"))
plot(x,y, pch = 19, col = p)
plot(x,y, pch = 19, col = p())
p(1)
p(0)
p <- colorRampPalette(c("red", "blue"))
plot(x,y, pch = 19, col = p
)
plot(x,y, pch = 19, col = p())
p
p(0)
p(1)
p(2)
plot(x,y, pch = 19, col = p(10))
a <- 2500000 ^ 2
b <- a ^ 2
d <- b ^ 2
e <- b * 2
e <- b ^ 2
e <- d ^ 2
4*4
16*4
64*4
install.packages('knitr', dependencies = TRUE)
.5 * .9
.5 * .1
45/46
.1 * .9
5^3
3^5
setwd("/common/coursera/reproduce")
install.packages('ProjectTemplate')
dir()
library('ProjectTemplate')
create.project('ReproduceProj1')
setwd("/common/coursera/reproduce/proj1/RepData_PeerAssessment1")
originaldata <- read.csv("activity.csv")
originaldata$datePosix <- as.POSIXlt(originaldata$date)
originaldata$datePosix$min <- originaldata$datePosix$min + originaldata$interval
originaldata$wday <- originaldata$datePosix$wday
# make a copy so the original data still has missing values
dataClean <- originaldata
# create lookup table
dataNoMissingValues <- originaldata[!is.na(originaldata$steps),]
averageByIntervalAndWday <- ddply(dataNoMissingValues[c(1,3,5)], .(interval, wday), numcolwise(mean))
averageByIntervalAndWday$steps <- round(averageByIntervalAndWday$steps, digits=0)
rm(dataNoMissingValues)
# create function for looking up missing values
lookupMissingValue <- function(interval, wday) {
averageByIntervalAndWday[averageByIntervalAndWday$interval==interval & averageByIntervalAndWday$wday==wday,]$steps
}
# lookup missing values
for(i in 1:length(dataClean$date)) {
if(is.na(dataClean$steps[i])) {
interval <- dataClean$interval[i]
wday <- dataClean$wday[i]
dataClean$steps[i] <- lookupMissingValue(interval, wday)
}
library(plyr)
# make a copy so the original data still has missing values
dataClean <- originaldata
# create lookup table
dataNoMissingValues <- originaldata[!is.na(originaldata$steps),]
averageByIntervalAndWday <- ddply(dataNoMissingValues[c(1,3,5)], .(interval, wday), numcolwise(mean))
averageByIntervalAndWday$steps <- round(averageByIntervalAndWday$steps, digits=0)
rm(dataNoMissingValues)
# create function for looking up missing values
lookupMissingValue <- function(interval, wday) {
averageByIntervalAndWday[averageByIntervalAndWday$interval==interval & averageByIntervalAndWday$wday==wday,]$steps
}
# lookup missing values
for(i in 1:length(dataClean$date)) {
if(is.na(dataClean$steps[i])) {
interval <- dataClean$interval[i]
wday <- dataClean$wday[i]
dataClean$steps[i] <- lookupMissingValue(interval, wday)
}
dataClean$weekDay <- as.factor(weekdays(dataClean$datePosix))
averageByIntervalAndWeekPart <- ddply(dataClean[c(1,3,6)], .(interval, weekDay), numcolwise(mean))
View(averageByIntervalAndWday)
View(averageByIntervalAndWeekPart)
View(dataClean)
averageByIntervalAndWeekPart$steps <- round(averageByIntervalAndWeekPart$steps, digits=0)
View(averageByIntervalAndWeekPart)
View(averageByIntervalAndWday)
View(averageByIntervalAndWeekPart)
isWeekEnd <- averageByIntervalAndWeekPart$weekDay == "Saturday" | averageByIntervalAndWeekPart$weekDay == "Sunday"
summary(isWeekEnd)
averageByIntervalForWeekDays <- averageByIntervalAndWeekPart[!isWeekEnd,]
averageByIntervalForWeekEnds <- averageByIntervalAndWeekPart[isWeekEnd,]
summary(averageByIntervalForWeekDays)
summary(averageByIntervalForWeekEnds)
plot(ts(averageByIntervalForWeekDays$steps), main="Scatterplot of wt vs. mpg")
par(mfrow=c(1,2))
plot(ts(averageByIntervalForWeekDays$steps), main="Scatterplot of wt vs. mpg")
plot(ts(averageByIntervalForWeekEndss$steps), main="Scatterplot of wt vs. mpg")
par(mfrow=c(2,1))
plot(ts(averageByIntervalForWeekDays$steps), main="Scatterplot of wt vs. mpg")
plot(ts(averageByIntervalForWeekEnds$steps), main="Scatterplot of wt vs. mpg")
par(mfrow=c(1,2))
plot(ts(averageByIntervalForWeekDays$steps), main="Scatterplot of wt vs. mpg")
plot(ts(averageByIntervalForWeekEnds$steps), main="Scatterplot of wt vs. mpg")
View(averageByIntervalAndWeekPart)
View(averageByIntervalAndWday)
View(averageByIntervalAndWeekPart)
averageByIntervalAndWeekPart <- ddply(dataClean[c(1,3,6)], .(interval, weekDay), numcolwise(mean))
averageByIntervalAndWeekPart$steps <- averageByIntervalAndWeekPart$steps
isWeekEnd <- averageByIntervalAndWeekPart$weekDay == "Saturday" | averageByIntervalAndWeekPart$weekDay == "Sunday"
averageByIntervalForWeekDays <- averageByIntervalAndWeekPart[!isWeekEnd,]
averageByIntervalForWeekEnds <- averageByIntervalAndWeekPart[isWeekEnd,]
averageByIntervalAndWeekPart <- ddply(dataClean[c(1,3,6)], .(interval, weekDay), numcolwise(mean))
averageByIntervalAndWeekPart$steps <- averageByIntervalAndWeekPart$steps
isWeekEnd <- averageByIntervalAndWeekPart$weekDay == "Saturday" | averageByIntervalAndWeekPart$weekDay == "Sunday"
splitForWeekDays <- averageByIntervalAndWeekPart[!isWeekEnd,]
splitForWeekEnds <- averageByIntervalAndWeekPart[isWeekEnd,]
averageByIntervalForWeekDays <- ddply(splitForWeekDays[c(1,3)], .(interval), numcolwise(mean))
averageByIntervalForWeekEnds <- ddply(splitForWeekEnds[c(1,3)], .(interval), numcolwise(mean))
averageByIntervalForWeekDays$steps <- round(averageByIntervalForWeekDays$steps, digets=0)
averageByIntervalForWeekDays$steps <- round(averageByIntervalForWeekDays$steps, didgets=0)
averageByIntervalForWeekDays$steps <- round(averageByIntervalForWeekDays$steps, digits=0)
averageByIntervalForWeekEnds$steps <- round(averageByIntervalForWeekEnds$steps, digits=0)
View(averageByIntervalAndWeekPart)
View(averageByIntervalForWeekDays)
View(averageByIntervalForWeekEnds)
View(averageByIntervalAndWday)
View(averageByIntervalAndWeekPart)
plot(ts(averageByIntervalForWeekDays$steps), main="Scatterplot of wt vs. mpg")
plot(ts(averageByIntervalForWeekEnds$steps), main="Scatterplot of wt vs. mpg")
plot(ts(averageByIntervalForWeekDays$steps), main="Scatterplot of wt vs. mpg")
835/5
myts <- ts(averageByInterval$steps)
averageByInterval <- ddply(dataClean[c(1,3)], .(interval), numcolwise(mean))
averageByInterval$steps <- round(averageByInterval$steps, digits=0)
myts <- ts(averageByInterval$steps)
mtts
myts
averageByInterval
View(dataClean)
originaldata <- read.csv("activity.csv")
```
originaldata <- read.csv("activity.csv")
originaldata$datePosix <- as.POSIXlt(originaldata$date)
substr(1234, 0,2)
t <- originaldata$datePosix[3]
t
t$min
t$min <- 5
t
t$hour <- 5
t
addTime <- function (dateOnly, hhmm) {
dateOnly$hour <- 2
dateOnly$min <- 9
dateOnly
}
for(i in 1:length(originaldata$datePosix)) {
originaldata$datePosix[i] <- addTime(originaldata$datePosix[i], originaldata$interval[i])
}
View(originaldata)
addTime(t, 34)
t
addTime <- function (dateOnly, hhmm) {
dateOnly$hour <- "2"
dateOnly$min <- 9
dateOnly
}
addTime(t, 34)
length("1234")
strlen("1234")
nchar("1234")
len <- nchar("1234")
substr("1234", len-2,len)
substr("1234", len-1,len)
len <- 1
substr("1", len-1,len)
len <- 4
substr("1234", 0, 2)
substr("1234", 0, len - 2)
len <- 1
substr("34", 0, len - 2)
substr("3", 0, len - 2)
library(plyr)
originaldata <- read.csv("activity.csv")
originaldata$datePosix <- as.POSIXlt(originaldata$date)
addTime <- function (dateOnly, hhmm) {
len <- nchar(hhmm)
min <- substr(hhmm, len-1, len)
hour <- substr(hhmm, 0, len - 2)
dateOnly$hour <- hour
dateOnly$min <- min
dateOnly
}
# TODO: slow
for(i in 1:length(originaldata$datePosix)) {
originaldata$datePosix[i] <- addTime(originaldata$datePosix[i], originaldata$interval[i])
}
View(originaldata)
originaldata$datePosix <- as.POSIXlt(originaldata$date)
addTime <- function (dateOnly, hhmm) {
len <- nchar(hhmm)
min <- substr(hhmm, len-1, len)
hour <- if(len < 3) 0 else substr(hhmm, 0, len - 2)
dateOnly$hour <- hour
dateOnly$min <- min
dateOnly
}
for(i in 1:length(originaldata$datePosix)) {
originaldata$datePosix[i] <- addTime(originaldata$datePosix[i], originaldata$interval[i])
}
View(originaldata)
library(data.table)
originaldata$datePosix <- as.POSIXlt(originaldata$date)
dt <- data.table(originaldata)
dt[, b:= addTime(datePosix, interval),by=a]
dt[, b:= addTime(datePosix, interval)]
setwd("/common/coursera/reproduce/proj1/RepData_PeerAssessment1")
originaldata <- read.csv("activity.csv")
originaldata$datePosix <- as.POSIXlt(originaldata$date)
addTime <- function (dateOnly, hhmm) {
len <- nchar(hhmm)
min <- substr(hhmm, len-1, len)
hour <- if(len < 3) 0 else substr(hhmm, 0, len - 2)
dateOnly$hour <- hour
dateOnly$min <- min
dateOnly
}
for(i in 1:length(originaldata$datePosix)) {
originaldata$datePosix[i] <- addTime(originaldata$datePosix[i], originaldata$interval[i])
}
originaldata$wday <- originaldata$datePosix$wday
numDays <- as.integer(max(originaldata$datePosix) - min(originaldata$datePosix))
samplesPerDay <- length(originaldata$date) / numDays
totalsByDay <- ddply(dataClean[1:2], .(date), numcolwise(sum))
totalsByDay <- ddply(originaldata[1:2], .(date), numcolwise(sum))
